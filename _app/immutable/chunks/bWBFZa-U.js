import{q as P,V as T,v as R,ag as V,a9 as B,G,aM as K,aN as z,aO as D,aP as F,aQ as Q,x as w,aR as J,ar as W,h as X,aS as Z,_ as C,aT as x}from"./Dklkudmk.js";import{c as ss,d as es,b as rs,f as as}from"./CbR4jyub.js";import{a as ts,n as is,b as fs}from"./D15U5vI1.js";import{c as us,s as os}from"./j1b29jXt.js";import{s as ls}from"./CIeRTlPl.js";function cs(s,e){var r=void 0,a;P(()=>{r!==(r=e())&&(a&&(T(a),a=null),r&&(a=R(()=>{V(()=>r(s))})))})}function E(s,e,r){if(s.multiple){if(e==null)return;if(!G(e))return K();for(var a of s.options)a.selected=e.includes(I(a));return}for(a of s.options){var o=I(a);if(z(o,e)){a.selected=!0;return}}(!r||e!==void 0)&&(s.selectedIndex=-1)}function _s(s,e){let r=!0;V(()=>{e&&E(s,B(e),r),r=!1;var a=new MutationObserver(()=>{var o=s.__value;E(s,o)});return a.observe(s,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function I(s){return"__value"in s?s.__value:s.value}const A=Symbol("class"),p=Symbol("style"),H=Symbol("is custom element"),U=Symbol("is html");function As(s){if(w){var e=!1,r=()=>{if(!e){if(e=!0,s.hasAttribute("value")){var a=s.value;k(s,"value",null),s.value=a}if(s.hasAttribute("checked")){var o=s.checked;k(s,"checked",null),s.checked=o}}};s.__on_r=r,x(r),as()}}function ns(s,e){e?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function k(s,e,r,a){var o=Y(s);w&&(o[e]=s.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&s.nodeName==="LINK")||o[e]!==(o[e]=r)&&(e==="loading"&&(s[D]=r),r==null?s.removeAttribute(e):typeof r!="string"&&j(s).includes(e)?s[e]=r:s.setAttribute(e,r))}function ds(s,e,r,a,o=!1){var d=Y(s),h=d[H],b=!d[U];let v=w&&h;v&&C(!1);var f=e||{},g=s.tagName==="OPTION";for(var n in e)n in r||(r[n]=null);r.class?r.class=us(r.class):r[A]&&(r.class=null),r[p]&&(r.style??(r.style=null));var S=j(s);for(const t in r){let i=r[t];if(g&&t==="value"&&i==null){s.value=s.__value="",f[t]=i;continue}if(t==="class"){var _=s.namespaceURI==="http://www.w3.org/1999/xhtml";os(s,_,i,a,e==null?void 0:e[A],r[A]),f[t]=i,f[A]=r[A];continue}if(t==="style"){ls(s,i,e==null?void 0:e[p],r[p]),f[t]=i,f[p]=r[p];continue}var L=f[t];if(i!==L){f[t]=i;var O=t[0]+t[1];if(O!=="$$")if(O==="on"){const l={},y="$$"+t;let u=t.slice(2);var N=fs(u);if(ts(u)&&(u=u.slice(0,-7),l.capture=!0),!N&&L){if(i!=null)continue;s.removeEventListener(u,f[y],l),f[y]=null}if(i!=null)if(N)s[`__${u}`]=i,es([u]);else{let m=function(q){f[t].call(this,q)};f[y]=ss(u,s,m,l)}else N&&(s[`__${u}`]=void 0)}else if(t==="style")k(s,t,i);else if(t==="autofocus")rs(s,!!i);else if(!h&&(t==="__value"||t==="value"&&i!=null))s.value=s.__value=i;else if(t==="selected"&&g)ns(s,i);else{var c=t;b||(c=is(c));var M=c==="defaultValue"||c==="defaultChecked";if(i==null&&!h&&!M)if(d[t]=null,c==="value"||c==="checked"){let l=s;const y=e===void 0;if(c==="value"){let u=l.defaultValue;l.removeAttribute(c),l.defaultValue=u,l.value=l.__value=y?u:null}else{let u=l.defaultChecked;l.removeAttribute(c),l.defaultChecked=u,l.checked=y?u:!1}}else s.removeAttribute(t);else M||S.includes(c)&&(h||typeof i!="string")?s[c]=i:typeof i!="function"&&k(s,c,i)}}}return v&&C(!0),f}function ps(s,e,r=[],a,o=!1,d=W){const h=r.map(d);var b=void 0,v={},f=s.nodeName==="SELECT",g=!1;P(()=>{var n=e(...h.map(X));ds(s,b,n,a,o),g&&f&&"value"in n&&E(s,n.value,!1);for(let _ of Object.getOwnPropertySymbols(v))n[_]||T(v[_]);for(let _ of Object.getOwnPropertySymbols(n)){var S=n[_];_.description===Z&&(!b||S!==b[_])&&(v[_]&&T(v[_]),v[_]=R(()=>cs(s,()=>S)))}b=n}),f&&_s(s,()=>b.value),g=!0}function Y(s){return s.__attributes??(s.__attributes={[H]:s.nodeName.includes("-"),[U]:s.namespaceURI===F})}var $=new Map;function j(s){var e=$.get(s.nodeName);if(e)return e;$.set(s.nodeName,e=[]);for(var r,a=s,o=Element.prototype;o!==a;){r=J(a);for(var d in r)r[d].set&&e.push(d);a=Q(a)}return e}export{ps as a,As as r,k as s};
